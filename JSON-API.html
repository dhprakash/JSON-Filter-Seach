<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Untitled Document</title>
<script>
var kk;
var showdata = function(){
	var amit =new XMLHttpRequest();
	console.log("first");
	document.getElementById('m').style.display="block";
		amit.onreadystatechange=function(){
			if(this.readyState==4 && this.status==200)
				{
					var data = this.responseText;
					 kk = JSON.parse(data);
					console.log(data);
					console.log("third");
					document.getElementById('m').style.display="none";
				readapi();	
				}
		}
		
		console.log("second");
amit.open("GET","https://jsonplaceholder.typicode.com/users",true);
		amit.send();
		}
	

		function readapi(){
		tableId="<tr><th>ID</th><th>Employee Name</th><th>Employee Salary</th><th>Age</th></tr>";			
	for(let i=0;i<kk.length;i++){
		tableId+="<tr>";
		tableId+="<td>"+kk[i].id+"</td>";
		tableId+="<td>"+kk[i].name+"</td>";
			tableId+="<td>"+kk[i].email+"</td>";
				tableId+="<td>"+kk[i].phone+"</td>";
		tableId+="</tr>";
		
	}
	
			document.getElementById("test").innerHTML =tableId;
		}
</script>
</head>

<body>
<div id="demo">
<img src='https://i.gifer.com/4V0b.gif' style='display:none;' id='m'>

</div>


<table border='1' id="test">

</table>
	<button type="button" onClick="showdata()">ShowAPI</button>
</body>
</html>
